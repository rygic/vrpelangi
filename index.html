<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR 360° Video Experience</title>
    <meta name="description" content="Immersive VR 360° Video Experience">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="VR 360° Video Experience">
    <meta property="og:description" content="Immersive VR 360° Video">
    <meta property="og:type" content="website">
    
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    
    <!-- Preload Resources -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Google Drive Video URL -->
    <?php
    $videoId = "1QJj8ZcMjxcD8MZwbPWi4kWYnZwb57V-a";
    $videoUrl = "https://drive.google.com/uc?export=download&id=" . $videoId . "&confirm=t";
    ?>
</head>
<body>
    <div id="loading" class="loading-screen">
        <div class="loader">
            <div class="spinner"></div>
            <p>Loading VR Experience...</p>
            <p class="file-size">Video Size: 2GB - May take time to load</p>
        </div>
    </div>

    <a-scene vr-mode-ui="enabled: true" 
             loading-screen="dotsColor: #0080e5; backgroundColor: #000000"
             renderer="colorManagement: true; antialias: true">
        
        <a-assets>
            <video id="video360" 
                   autoplay 
                   loop 
                   crossorigin="anonymous"
                   playsinline 
                   webkit-playsinline
                   preload="auto">
            </video>
        </a-assets>

        <!-- 360 Video Sphere -->
        <a-sky src="#video360" rotation="0 -90 0"></a-sky>

        <!-- Camera dengan kontrol -->
        <a-camera position="0 1.6 0" wasd-controls="enabled: false">
            <a-cursor 
                fuse="true" 
                fuse-timeout="2000"
                animation__fusing="property: scale; startEvents: fusing; from: 1 1 1; to: 0.2 0.2 0.2; dur: 2000"
                animation__mouseleave="property: scale; startEvents: mouseleave; from: 0.2 0.2 0.2; to: 1 1 1; dur: 500">
            </a-cursor>
        </a-camera>

        <!-- UI Controls -->
        <a-entity class="ui-controls" id="uiControls" position="0 2 -3">
            <a-text value="VR 360° Experience" 
                   align="center" 
                   color="#FFFFFF"
                   position="0 0.5 0"
                   scale="2 2 2"></a-text>
            
            <a-plane color="#333333" 
                    opacity="0.8" 
                    width="2.5" 
                    height="1.2"
                    position="0 0 0"></a-plane>
            
            <a-entity class="clickable play-button" 
                     id="playButton"
                     geometry="primitive: circle; radius: 0.3"
                     material="color: #4CAF50; shader: flat"
                     position="0 -0.1 0.01"
                     animation__hover="property: scale; to: 1.1 1.1 1.1; dur: 200; startEvents: mouseenter"
                     animation__unhover="property: scale; to: 1 1 1; dur: 200; startEvents: mouseleave">
                <a-text value="▶" 
                       align="center" 
                       position="0 0 0.02" 
                       color="#FFFFFF"
                       scale="1.5 1.5 1.5"></a-text>
            </a-entity>
            
            <a-text value="Klik untuk Memulai" 
                   align="center" 
                   position="0 -0.5 0.01" 
                   color="#FFFFFF"
                   scale="0.8 0.8 0.8"></a-text>
        </a-entity>

        <!-- Loading Indicator dalam VR -->
        <a-entity class="vr-loading" id="vrLoading" position="0 1.5 -2" visible="true">
            <a-ring color="#4CAF50" 
                   radius-inner="0.4" 
                   radius-outer="0.5"
                   rotation="0 0 0"
                   animation="property: rotation; to: 0 0 -360; loop: true; dur: 2000"></a-ring>
            <a-text value="Loading Video..." 
                   align="center" 
                   position="0 -0.8 0" 
                   color="#FFFFFF"></a-text>
        </a-entity>

    </a-scene>

    <script src="script.js"></script>
</body>
</html>